<mxGraphModel dx="3322" dy="1920" grid="1" guides="1" tooltips="1" connect="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" style="default-style2" math="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IFieldDescriptor&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getName(): string&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getType(): TypeId&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getId(): FieldId&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ isKey(): bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&lt;b&gt; fromString(string): ValuePtrH&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-588" y="-354" width="185" height="140" as="geometry"/></mxCell><mxCell id="5" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;mStd::Variant&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- typeId: TypeInfo&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- heldValue: mStd::Variant::PlaceHolder&amp;lt;Type&amp;gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ converTo&amp;lt;ToType&amp;gt;(ToType*): bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ changeType(TypeId): bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ comparisonOperators...: bool&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-630" y="-684" width="270" height="130" as="geometry"/></mxCell><mxCell id="7" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;TypeInfo: int&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-490" y="-989" width="160" height="40" as="geometry"/></mxCell><mxCell id="11" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;mStd::mString&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- str: CharPtrH&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;... typical string methods&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-210" y="-924" width="160" height="125" as="geometry"/></mxCell><mxCell id="12" value="&#xa;General Note&#xa;&#xa;Anything with a &quot;PtrH&quot; suffix is a shared pointer.  A &quot;ConstPtrH&quot;&#xa;refers to a shared pointer of&#xa;something that cannot be&#xa;modified by the client." style="shape=note;whiteSpace=wrap;fillColor=#FFFF99" vertex="1" parent="1"><mxGeometry x="40" y="-1160" width="190" height="130" as="geometry"/></mxCell><mxCell id="13" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Value&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;div style=&quot;height:2px;&quot;&gt;- value: mStd::Variant&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;hr&gt;+ getValue(): const mStd::Variant&amp;amp;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-595" y="-504" width="200" height="120" as="geometry"/></mxCell><mxCell id="18" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Date&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;div style=&quot;height:2px;&quot;&gt;- date: time_t&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;hr&gt;&lt;div&gt;+ fromString(string): bool&lt;/div&gt;&lt;div&gt;+ toString(): bool&lt;/div&gt;&lt;div&gt;+ comparisonOperators..: bool&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-600" y="-924" width="190" height="130" as="geometry"/></mxCell><mxCell id="21" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Time&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- time: int&lt;/p&gt;&lt;hr&gt;&lt;div&gt;+ fromString(string): bool&lt;/div&gt;&lt;div&gt;+ toString(): bool&lt;/div&gt;&lt;div&gt;+ comparisonOperators..: bool&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-400" y="-924" width="180" height="130" as="geometry"/></mxCell><mxCell id="32" value="A variant can hold one of any data type,&#xa;including primitives.  Each value is associated&#xa;with a unique TypeId.  Template specializations&#xa;are defined for each type that a client wishes a &#xa;variant to hold.  These specializations are used&#xa;for accessing type information, converting between &#xa;types, and performing comparisons." style="shape=note" vertex="1" parent="1"><mxGeometry x="41" y="-671" width="330" height="130" as="geometry"/></mxCell><mxCell id="33" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0.5;entryY=1;exitX=0.25;exitY=0" edge="1" parent="1" source="5" target="18"><mxGeometry x="-0.8840579710144928" y="-12.5" relative="1" as="geometry"><mxPoint x="-430" y="-744" as="sourcePoint"/><mxPoint x="-270" y="-744" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="34" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0.5;entryY=1" edge="1" parent="1" source="5" target="21"><mxGeometry x="-0.23076923076923078" y="-50" relative="1" as="geometry"><mxPoint x="-380" y="-784" as="sourcePoint"/><mxPoint x="-220" y="-784" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="35" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0.5;entryY=1;exitX=0.75;exitY=0" edge="1" parent="1" source="5" target="11"><mxGeometry x="-0.5570335701118342" y="-22.5" relative="1" as="geometry"><mxPoint x="-200" y="-724" as="sourcePoint"/><mxPoint x="-70" y="-714" as="targetPoint"/><Array as="points"><mxPoint x="-427" y="-719"/><mxPoint x="-130" y="-719"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="36" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0.5;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="13" target="5"><mxGeometry x="-0.7209233916276648" y="-9.665324353716134" relative="1" as="geometry"><mxPoint x="-470" y="-474" as="sourcePoint"/><mxPoint x="-310" y="-474" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="37" value="Instantiates&#xa;" style="endArrow=block;endFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;entryX=0.5;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="2" target="13"><mxGeometry x="0.3333333333333333" y="-15" relative="1" as="geometry"><mxPoint x="-700" y="-194" as="sourcePoint"/><mxPoint x="-530" y="-204" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="38" value="" style="resizable=0;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10" connectable="0" vertex="1" parent="37"><mxGeometry x="-1" relative="1" as="geometry"><mxPoint x="76.5" y="1.5" as="offset"/></mxGeometry></mxCell><mxCell id="40" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;TextFieldDescriptor&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-770" y="-114" width="140" height="30" as="geometry"/></mxCell><mxCell id="41" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;PrimitiveTypes&lt;/b&gt;&lt;/p&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-750" y="-924" width="140" height="30" as="geometry"/></mxCell><mxCell id="42" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;exitX=0;exitY=0.25;entryX=0.5;entryY=1" edge="1" parent="1" source="5" target="41"><mxGeometry x="-0.6484848484848484" y="-40" relative="1" as="geometry"><mxPoint x="-830" y="-844" as="sourcePoint"/><mxPoint x="-670" y="-844" as="targetPoint"/><Array as="points"><mxPoint x="-680" y="-651"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="45" value="Implements" style="endArrow=block;endSize=16;endFill=0;entryX=0.25;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="40" target="2"><mxGeometry x="-820" y="-174" as="geometry"><mxPoint x="-820" y="-174" as="sourcePoint"/><mxPoint x="-660" y="-174" as="targetPoint"/></mxGeometry></mxCell><mxCell id="46" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;FloatFieldDescriptor&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-625" y="-114" width="140" height="30" as="geometry"/></mxCell><mxCell id="47" value="Implements" style="endArrow=block;endSize=16;endFill=0;entryX=0.5;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="46" target="2"><mxGeometry x="-810" y="-164" as="geometry"><mxPoint x="-620" y="-104" as="sourcePoint"/><mxPoint x="-530" y="-154" as="targetPoint"/></mxGeometry></mxCell><mxCell id="48" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DateFieldDescriptor&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-480" y="-114" width="140" height="30" as="geometry"/></mxCell><mxCell id="49" value="Implements" style="endArrow=block;endSize=16;endFill=0;exitX=0.5;exitY=0;entryX=0.75;entryY=1" edge="1" parent="1" source="48" target="2"><mxGeometry x="-755" y="-164" as="geometry"><mxPoint x="-430" y="-114" as="sourcePoint"/><mxPoint x="-410" y="-144" as="targetPoint"/></mxGeometry></mxCell><mxCell id="50" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DateFieldDescriptor&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-330" y="-114" width="140" height="30" as="geometry"/></mxCell><mxCell id="52" value="Implements" style="endArrow=block;endSize=16;endFill=0;exitX=0.5;exitY=0;entryX=1;entryY=0.75" edge="1" parent="1" source="50" target="2"><mxGeometry x="-665" y="-174" as="geometry"><mxPoint x="-250" y="-124" as="sourcePoint"/><mxPoint x="-360" y="-174" as="targetPoint"/></mxGeometry></mxCell><mxCell id="53" value="A FieldDescriptor&#xa;creates new &#xa;instances of a Value&#xa;and identifies&#xa;a Value within a row" style="shape=note" vertex="1" parent="1"><mxGeometry x="30" y="-354" width="150" height="140" as="geometry"/></mxCell><mxCell id="55" value="The main feature of an &#xa;mString is that a copy is &#xa;not made until a &#xa;non-const operation is &#xa;performed on &#xa;an instance.  This makes &#xa;mStrings extremely fast to &#xa;copy, and store within a Variant" style="shape=note" vertex="1" parent="1"><mxGeometry x="40" y="-927" width="210" height="135" as="geometry"/></mxCell><mxCell id="56" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.5" edge="1" parent="1" source="5"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-310" y="-549" as="sourcePoint"/><mxPoint x="41" y="-651" as="targetPoint"/></mxGeometry></mxCell><mxCell id="57" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="11" target="55"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-30" y="-839" as="sourcePoint"/><mxPoint x="70" y="-939" as="targetPoint"/></mxGeometry></mxCell><mxCell id="58" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="2" target="53"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-350" y="-249" as="sourcePoint"/><mxPoint x="-250" y="-349" as="targetPoint"/></mxGeometry></mxCell><mxCell id="61" value="Value Types &amp;Field Information" style="shape=component;align=left;spacingLeft=36;fillColor=#FFCC99" vertex="1" parent="1"><mxGeometry x="-800" y="-1160" width="280" height="60" as="geometry"/></mxCell><mxCell id="66" value="Database Component Interfaces &amp; Persistence&#xa;" style="shape=component;align=left;spacingLeft=36;fillColor=#FFCC99" vertex="1" parent="1"><mxGeometry x="-805" y="20" width="320" height="60" as="geometry"/></mxCell><mxCell id="67" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IScheme&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getFieldDescriptors(): IFieldDescriptorConstListConstPtrH&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getKeyFieldDescriptors():&amp;nbsp;&lt;span style=&quot;line-height: 1.26; background-color: rgb(255, 255, 255);&quot;&gt;IFieldDescriptorConstListConstPtrH&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;line-height: 1.26; background-color: rgb(255, 255, 255);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;line-height: 1.26; background-color: rgb(255, 255, 255);&quot;&gt;... Other methods used for error checking&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-770" y="145" width="385" height="110" as="geometry"/></mxCell><mxCell id="68" value="Okay... Following the &quot;PtrH' and &quot;ConstPtrH&quot; nomenclature&#xa;described above, a [something]ConstListConstPtrH indicates that&#xa;the type is a constant list of constant IFieldDescriptors.  So neither the&#xa;list, nor the IFieldDescriptors can be modified." style="shape=note;fillColor=#FFFF99" vertex="1" parent="1"><mxGeometry x="20" y="10" width="430" height="100" as="geometry"/></mxCell><mxCell id="69" value="0..n" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=1;entryY=0.5;exitX=1;exitY=0.5" edge="1" parent="1" source="70" target="2"><mxGeometry x="-0.9821905609973286" y="-25" relative="1" as="geometry"><mxPoint x="-350" y="-30" as="sourcePoint"/><mxPoint x="-190" y="-30" as="targetPoint"/><Array as="points"><mxPoint x="-10" y="385"/><mxPoint x="-10" y="-284"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="70" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SchemeJson&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- impl: InternalImplementation&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ SchemeJson(FILE file)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ SchemeJson(string jsonString)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ getFieldDescriptors(): IFieldDescriptorConstListConstPtrH&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ getKeyFieldDescriptors():&amp;nbsp;&lt;span style=&quot;line-height: 1.26; background-color: rgb(255, 255, 255);&quot;&gt;IFieldDescriptorConstListConstPtrH&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-415" y="310" width="390" height="150" as="geometry"/></mxCell><mxCell id="71" value="Implements" style="endArrow=block;endSize=16;endFill=0;exitX=0.25;exitY=0;entryX=1;entryY=0.75" edge="1" parent="1" source="70" target="67"><mxGeometry x="52" y="40" as="geometry"><mxPoint x="-218" y="280" as="sourcePoint"/><mxPoint x="-58" y="280" as="targetPoint"/><mxPoint x="0.125" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="72" value="Internal implementation hidden from client to&#xa;reduce the #include burden on the client.&#xa;&#xa;Implementation details has the capabilities&#xa;of parsing a JSON object into a set of &#xa;IFieldDescriptors.  Similarly, it also&#xa;produces a JSON object from the set of &#xa;IFieldDescriptors it contains." style="shape=note" vertex="1" parent="1"><mxGeometry x="25" y="309" width="305" height="157" as="geometry"/></mxCell><mxCell id="73" value="An IScheme represents the set of IFieldDescriptors&#xa;that comprises each row within a database." style="shape=note" vertex="1" parent="1"><mxGeometry x="25" y="150" width="305" height="100" as="geometry"/></mxCell><mxCell id="74" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5" edge="1" parent="1" source="67" target="73"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-130" y="260" as="sourcePoint"/><mxPoint x="-30" y="160" as="targetPoint"/></mxGeometry></mxCell><mxCell id="75" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="70" target="72"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-150" y="410" as="sourcePoint"/><mxPoint x="-50" y="310" as="targetPoint"/></mxGeometry></mxCell><mxCell id="76" value="Every type that is stored in a Variant&#xa;has associated TypeInfo" style="shape=note" vertex="1" parent="1"><mxGeometry x="40" y="-997" width="270" height="56" as="geometry"/></mxCell><mxCell id="77" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.5" edge="1" parent="1" source="7" target="76"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-260" y="-965" as="sourcePoint"/><mxPoint x="-160" y="-1065" as="targetPoint"/></mxGeometry></mxCell><mxCell id="78" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IDataStorage&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getScheme: ISchemeConstPtrH&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ load(Database* outDatabase): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ beginPersist(): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ persistRow(const IRow* row): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ endPersist(): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-770" y="502" width="315" height="140" as="geometry"/></mxCell><mxCell id="80" value="There's a two-way relationship between an&#xa;IDataStorage and a Database.  The storage&#xa;is responsible for &quot;loading&quot; a database instance&#xa;by populating its in-memory rows, and for persisting&#xa;any in-memory rows back out to the storage on disk.&#xa;&#xa;The interface implies that a scheme is persisted&#xa;along with the data.&#xa;&#xa;A weakness of this design is that it does not directly&#xa;support having a partial set of rows in and out of&#xa;memory." style="shape=note" vertex="1" parent="1"><mxGeometry x="30" y="490" width="315" height="188" as="geometry"/></mxCell><mxCell id="81" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="78" target="80"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-160" y="702" as="sourcePoint"/><mxPoint x="-60" y="602" as="targetPoint"/></mxGeometry></mxCell><mxCell id="82" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IRow&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getValue(IFieldDescriptor&amp;amp;): ValueConstPtrH&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ setValue(IFieldDescriptor&amp;amp;, ValueConstPtrH): bool&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-770" y="940" width="310" height="90" as="geometry"/></mxCell><mxCell id="87" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DataStorageJson&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&amp;nbsp;- impl: InternalImplementation&lt;br&gt;&lt;hr&gt;+ static Load(string jsonDatabaseFileName): DatabasePtrH&lt;div&gt;+ static Create(string jsonSchemeFileName, string jsonDatabaseFileName): DatabasePtrH&lt;br&gt;&lt;br&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ getScheme: ISchemeConstPtrH&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ load(Database outDatabase): void&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ beginPersist(): void&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ persistRow(IRow): void&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ endPersist(): void&lt;/p&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-520" y="700" width="510" height="220" as="geometry"/></mxCell><mxCell id="88" value="Implements" style="endArrow=block;endSize=16;endFill=0;entryX=0.75;entryY=1;exitX=0.25;exitY=0" edge="1" parent="1" source="87" target="78"><mxGeometry x="-370" y="730" as="geometry"><mxPoint x="-370" y="730" as="sourcePoint"/><mxPoint x="-210" y="730" as="targetPoint"/></mxGeometry></mxCell><mxCell id="89" value="A JSON file that contains a scheme and rows.&#xa;&#xa;Provides methods for creating new and loading&#xa;existing databased, returning an instance of a Database&#xa;object." style="shape=note" vertex="1" parent="1"><mxGeometry x="20" y="730" width="320" height="100" as="geometry"/></mxCell><mxCell id="90" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="87" target="89"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-60" y="830" as="sourcePoint"/><mxPoint x="40" y="730" as="targetPoint"/></mxGeometry></mxCell><mxCell id="92" value="Database" style="shape=component;align=left;spacingLeft=36;fillColor=#FFCC99" vertex="1" parent="1"><mxGeometry x="-800" y="1190" width="210" height="60" as="geometry"/></mxCell><mxCell id="94" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DatabaseInMemory&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;div style=&quot;height:2px;&quot;&gt;- rows: IRowConstPtrH&lt;/div&gt;&lt;br&gt;&lt;hr&gt;+ lookupRow(Predicate&amp;amp;): RowIdentifier&lt;div&gt;+ replace(RowIdentifier, IRowConstPtrH): bool&lt;/div&gt;&lt;div&gt;+ insert(IRowConstPtrH): bool&lt;/div&gt;&lt;div&gt;+ query(IFieldDescriptorConstListConstPtrH, Predicate, IFieldDescriptorConstListConstPtrH): IQueryResultConstPtrH&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ persist(IDataStorage): void&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-744" y="1637" width="650" height="170" as="geometry"/></mxCell><mxCell id="95" value="Not much going on with this.&#xa;Could just use a Variant directly" style="shape=note" vertex="1" parent="1"><mxGeometry x="42" y="-499" width="220" height="100" as="geometry"/></mxCell><mxCell id="96" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="13" target="95"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-310" y="-390" as="sourcePoint"/><mxPoint x="-210" y="-490" as="targetPoint"/></mxGeometry></mxCell><mxCell id="97" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="94" target="98"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="76" y="1682" as="sourcePoint"/><mxPoint x="16" y="1612" as="targetPoint"/></mxGeometry></mxCell><mxCell id="98" value="Database in-memory strategy.  Stores the&#xa;entire contents of the database in memory.  Rows are&#xa;stored in a vector and searched linearly." style="shape=note" vertex="1" parent="1"><mxGeometry x="22" y="1655" width="314" height="100" as="geometry"/></mxCell><mxCell id="99" value="0..n" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0;entryY=0.5;exitX=0;exitY=0.25" edge="1" parent="1" source="94" target="82"><mxGeometry x="-0.9681274900398407" y="-10" relative="1" as="geometry"><mxPoint x="-860" y="1600" as="sourcePoint"/><mxPoint x="-750" y="830" as="targetPoint"/><Array as="points"><mxPoint x="-850" y="1680"/><mxPoint x="-850" y="985"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="100" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;IQueryResult&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getFieldDescriptors(): IFieldDescriptorConstListConstPtrH&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ operator[](size_t idx): IRowConstPtrH&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ size(): size_t&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ cbegin(): const_iterator&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ cend(): const_iterator&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-815" y="1290" width="415" height="140" as="geometry"/></mxCell><mxCell id="101" value="Exposes a subset of rows (and a subset of fields&#xa;within each row) through an iterable interface." style="shape=note" vertex="1" parent="1"><mxGeometry x="20" y="1290" width="300" height="140" as="geometry"/></mxCell><mxCell id="102" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="100" target="101"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-280" y="1370" as="sourcePoint"/><mxPoint x="-180" y="1270" as="targetPoint"/></mxGeometry></mxCell><mxCell id="105" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;Database&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;div style=&quot;height:2px;&quot;&gt;- storage: IDataStoragePtrH&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;- scheme: ISchemePtrH&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;- memory: DatabaseInMemory&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;hr&gt;&lt;div&gt;+ Database(ISchemePtrH)&lt;/div&gt;&lt;div&gt;+ Database(IDataStoragePtrH)&lt;/div&gt;&lt;div&gt;+ createRow(): IRowPtrH&lt;/div&gt;&lt;div&gt;+ insert(IRowConstPtrH): bool&lt;/div&gt;&lt;div&gt;+ query(IFieldDescriptorConstListConstPtrH, Predicate, IFieldDescriptorConstListConstPtrH): IQueryResultConstPtrH&lt;br&gt;&lt;/div&gt;&lt;div&gt;+ getScheme(): ISchemeConstPtrH&lt;/div&gt;&lt;div&gt;+ persist(): void&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-774" y="1838" width="710" height="200" as="geometry"/></mxCell><mxCell id="106" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;" edge="1" parent="1" source="105" target="94"><mxGeometry x="-0.5555555555555556" y="-15" relative="1" as="geometry"><mxPoint x="-774" y="1803" as="sourcePoint"/><mxPoint x="-614" y="1803" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="107" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;exitX=0;exitY=0.25;" edge="1" parent="1" source="105"><mxGeometry x="-0.9766252739225713" y="-10" relative="1" as="geometry"><mxPoint x="-160" y="1700" as="sourcePoint"/><mxPoint x="-770" y="610" as="targetPoint"/><Array as="points"><mxPoint x="-890" y="1888"/><mxPoint x="-890" y="610"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="108" value="1" style="endArrow=open;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;entryX=0;entryY=0.5;" edge="1" parent="1" target="67"><mxGeometry x="-0.9803729146221786" y="-8" relative="1" as="geometry"><mxPoint x="-770" y="1938" as="sourcePoint"/><mxPoint x="-820" y="230" as="targetPoint"/><Array as="points"><mxPoint x="-920" y="1938"/><mxPoint x="-920" y="200"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="111" value="Composed of a storage class, an in-memory database strategy,&#xa;and a scheme" style="shape=note" vertex="1" parent="1"><mxGeometry x="17" y="1863" width="354" height="100" as="geometry"/></mxCell><mxCell id="112" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="105" target="111"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="6" y="2053" as="sourcePoint"/><mxPoint x="22" y="1863" as="targetPoint"/></mxGeometry></mxCell><mxCell id="116" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;QueryResult&lt;/b&gt;&lt;/p&gt;&lt;hr&gt;&lt;div style=&quot;height:2px;&quot;&gt;- selectedRows: IRowConstListConstPtrH&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;- selectedFields: IFieldDescriptorConstListConstPtrH&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;height:2px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;hr&gt;&lt;div&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ getFieldDescriptors(): IFieldDescriptorConstListConstPtrH&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ operator[](size_t idx): IRowConstPtrH&lt;/p&gt;&lt;p style=&quot;margin: 0px 0px 0px 4px;&quot;&gt;+ size(): size_t&lt;/p&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="-644" y="1460" width="450" height="150" as="geometry"/></mxCell><mxCell id="119" value="Stores a subset of rows in memory inside of a vector.&#xa;Also stores a subset of fields that have been selected&#xa;by the query.  This represents a result that has been&#xa;filtered, ordered, and selected." style="shape=note" vertex="1" parent="1"><mxGeometry x="17" y="1465" width="343" height="130" as="geometry"/></mxCell><mxCell id="120" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=1;exitY=0.25;entryX=0;entryY=0.25" edge="1" parent="1" source="116" target="119"><mxGeometry width="100" height="100" relative="1" as="geometry"><mxPoint x="-170" y="1540" as="sourcePoint"/><mxPoint x="-70" y="1440" as="targetPoint"/></mxGeometry></mxCell><mxCell id="121" value="Instantiates" style="endArrow=block;endFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;entryX=0.5;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="94" target="116"><mxGeometry x="1" y="-19" relative="1" as="geometry"><mxPoint x="-1060" y="1630" as="sourcePoint"/><mxPoint x="-900" y="1630" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="122" value="" style="resizable=0;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10" connectable="0" vertex="1" parent="121"><mxGeometry x="-1" relative="1" as="geometry"/></mxCell><mxCell id="123" value="Implements" style="endArrow=block;endSize=16;endFill=0;exitX=0.5;exitY=0" edge="1" parent="1" source="116" target="100"><mxGeometry x="-300" y="1420" as="geometry"><mxPoint x="-300" y="1420" as="sourcePoint"/><mxPoint x="-140" y="1420" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel>